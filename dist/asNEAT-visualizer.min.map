{"version":3,"file":"asNEAT-visualizer.min.js","sources":["asNEAT-visualizer.js"],"names":["define","__dependency1__","__dependency2__","__dependency3__","__dependency4__","__dependency5__","__dependency6__","__exports__","MultiVisualization","NetworkVisualization","ForceVisualization","OfflineSpectrogram","LiveSpectrogram","InstrumentVisualization","Visualizer","createInstrumentVisualization","parameters","createMultiVisualization","visualizations","push","createLiveSpectrogram","createForceVisualization","createNetworkVisualization","createOfflineSpectrogram","buildParameterHtml","name","id","_","reduce","result","value","key","isNumber","isInteger","toFixed","x","getCapitals","str","replace","OscillatorNode","require","NoteOscillatorNode","OutNode","VNode","VConnection","defaults","this","defaultParameters","prototype","network","width","height","selector","animateSpeed","init","vNodes","vConnections","forceLayout","translation","parameterToolTip","start","self","svg","d3","select","append","attr","backG","call","behavior","zoom","on","event","translate","frontG","scale","$","addClass","hide","g","defs","selectAll","data","enter","d","hFilter","merge","startForceLayout","refresh","onResize","window","setTimeout","resize","stop","off","remove","alpha","updateVisualizationNetwork","nodes","connections","forEach","node","vNode","find","asNEATNode","createVNodeFrom","connection","conn","asNEATConnection","inIndex","findIndex","sourceNode","outIndex","targetNode","source","target","getRect","$svg","rect","layout","force","gravity","friction","charge","linkDistance","linkStrength","link","enabled","size","links","y","i","cx","baseVal","cy","getNodeColor","e","getNodeStrokeColor","getConnectionColor","getNodeId","getConnectionId","getDashArray","getMarker","getNodeFilter","hasChanged","getConnectionFilter","category20","style","css","left","top","html","getParameters","show","transition","duration","drag","text","log","Graph","longestPath","vConns","cleanParameters","outNode","toString","stack","union","getConnectionsGoingTo","paths","firstPath","Path","numHops","getLength","length","pop","path","isLastNode","duplicateFromNode","pushNode","hash","getLocalX","entry","hashElement","yIndex","filter","inPath","index","newPath","slice","shiftTempCanvasLeft","tempCtx","imageData","getImageData","canvas","putImageData","copyFromTempCanvas","tempCanvas","ctx","drawImage","roundToPowerOf2","v","asNEAT","context","scriptNodes","keep","nextNodeID","numUpdates","initCanvasX","isShowingNetwork","colorScaleColors","colorScalePositions","blankStepsUntilPause","document","createElement","getContext","networkDiv","$canvas","$tempCanvas","networkDivClass","$networkDiv","colorScale","chroma","domain","clonedNetwork","clone","clonedOutNode","disconnect","clear","fillStyle","hex","fillRect","oldBounds","jsNode","analyserNode","fftSize","getBounds","bounds","createScriptProcessor","connect","destination","createAnalyser","smoothingTimeConstant","blankArray","Uint8Array","frequencyBinCount","lastSum","numRepeats","numBlank","onaudioprocess","freqData","getByteFrequencyData","sum","val","initUpdateCanvas","clearInitProcessing","play","playStart","len","secondaryNode","numAllowedRepeats","updateCanvas","clearProcessing","showNetwork","forceVis","hideNetwork","getClientRects","drop","clearCanvas","setTransform","currentVisualization","currentVisualizationIndex","vis","nextVisualization","oldResize","onresize","padding","getX","getY","getLocalY","getInitialD","x1","getX1","y1","getY1","getD","x2","getX2","y2","getY2","diff","rects","dNodes","dConnections","dInfo","getLabel","afterPrepHandler","contextPair","offlineNode","offlinePlay","console","inVNode","outVNode","getLongestPathLength","getNumberNodesInHash"],"mappings":"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"}