{"version":3,"file":"asNEAT-visualizer.min.js","sources":["asNEAT-visualizer.js"],"names":["define","__dependency1__","__dependency2__","__dependency3__","__dependency4__","__dependency5__","__dependency6__","__exports__","renderVisualizationFrame","timestamp","oldAnimationTimestamp","_","forEach","registeredAnimationFrameHandlers","handler","window","requestAnimationFrame","MultiVisualization","NetworkVisualization","ForceVisualization","OfflineSpectrogram","LiveSpectrogram","InstrumentVisualization","requestAnimationHandlerIds","Visualizer","registerRequestAnimationHandler","id","unregisterRequestAnimationHandler","createInstrumentVisualization","parameters","createMultiVisualization","visualizations","push","createLiveSpectrogram","createForceVisualization","createNetworkVisualization","createOfflineSpectrogram","buildParameterHtml","name","reduce","result","value","key","isNumber","isInteger","toFixed","x","getCapitals","str","replace","OscillatorNode","require","NoteOscillatorNode","OutNode","VNode","VConnection","defaults","this","defaultParameters","prototype","network","width","height","selector","animateSpeed","init","vNodes","vConnections","forceLayout","translation","parameterToolTip","start","self","svg","d3","select","append","attr","backG","call","behavior","zoom","on","event","translate","frontG","scale","$","addClass","hide","g","defs","selectAll","data","enter","d","hFilter","merge","startForceLayout","refresh","onResize","setTimeout","resize","stop","off","remove","alpha","updateVisualizationNetwork","nodes","connections","node","vNode","find","asNEATNode","createVNodeFrom","connection","conn","asNEATConnection","inIndex","findIndex","sourceNode","outIndex","targetNode","source","target","getRect","$svg","rect","layout","force","gravity","friction","charge","linkDistance","linkStrength","link","enabled","size","links","y","i","cx","baseVal","cy","getNodeColor","e","getNodeStrokeColor","getConnectionColor","getNodeId","getConnectionId","getDashArray","getMarker","getNodeFilter","hasChanged","getConnectionFilter","category20","style","css","left","top","html","getParameters","show","transition","duration","drag","text","log","Graph","longestPath","vConns","cleanParameters","outNode","toString","stack","union","getConnectionsGoingTo","paths","firstPath","Path","numHops","getLength","length","pop","path","isLastNode","duplicateFromNode","pushNode","hash","getLocalX","entry","hashElement","yIndex","filter","inPath","index","newPath","slice","shiftTempCanvasLeft","tempCtx","imageData","getImageData","canvas","putImageData","copyFromTempCanvas","tempCanvas","ctx","drawImage","roundToPowerOf2","v","asNEAT","context","numUpdates","initCanvasX","isShowingNetwork","colorScaleColors","colorScalePositions","blankStepsUntilPause","document","createElement","getContext","networkDiv","$canvas","$tempCanvas","networkDivClass","$networkDiv","colorScale","chroma","domain","clonedNetwork","clone","clonedOutNode","disconnect","clear","fillStyle","hex","fillRect","oldBounds","analyserNode","fftSize","getBounds","bounds","createAnalyser","smoothingTimeConstant","connect","blankArray","Uint8Array","frequencyBinCount","lastSum","numRepeats","numBlank","registeredInitId","freqData","getByteFrequencyData","sum","val","initUpdateCanvas","clearInitProcessing","play","playStart","len","secondaryNode","numAllowedRepeats","registeredId","updateCanvas","clearProcessing","showNetwork","forceVis","hideNetwork","getClientRects","scriptNodes","keep","nextNodeID","drop","clearCanvas","jsNode","createScriptProcessor","destination","onaudioprocess","setTransform","currentVisualization","currentVisualizationIndex","vis","nextVisualization","oldResize","onresize","padding","getX","getY","getLocalY","getInitialD","x1","getX1","y1","getY1","getD","x2","getX2","y2","getY2","diff","rects","dNodes","dConnections","dInfo","getLabel","afterPrepHandler","contextPair","offlineNode","offlinePlay","console","inVNode","outVNode","getLongestPathLength","getNumberNodesInHash"],"mappings":"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"}