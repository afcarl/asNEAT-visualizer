{"version":3,"file":"asNEAT-visualizer.min.js","sources":["asNEAT-visualizer.js"],"names":["define","__dependency1__","__dependency2__","__dependency3__","__dependency4__","__dependency5__","__dependency6__","__exports__","renderVisualizationFrame","timestamp","oldAnimationTimestamp","_","forEach","registeredAnimationFrameHandlers","handler","window","requestAnimationFrame","MultiVisualization","NetworkVisualization","ForceVisualization","OfflineSpectrogram","LiveSpectrogram","InstrumentVisualization","requestAnimationHandlerIds","Visualizer","registerRequestAnimationHandler","id","unregisterRequestAnimationHandler","createInstrumentVisualization","parameters","createMultiVisualization","visualizations","push","createLiveSpectrogram","createForceVisualization","createNetworkVisualization","createOfflineSpectrogram","lastTime","vendors","x","length","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","max","setTimeout","clearTimeout","buildParameterHtml","name","reduce","result","value","key","isNumber","isInteger","toFixed","getCapitals","str","replace","OscillatorNode","require","NoteOscillatorNode","OutNode","VNode","VConnection","defaults","this","defaultParameters","prototype","network","width","height","selector","animateSpeed","init","vNodes","vConnections","forceLayout","translation","parameterToolTip","start","self","svg","d3","select","append","attr","backG","call","behavior","zoom","on","event","translate","frontG","scale","$","addClass","hide","g","defs","selectAll","data","enter","d","hFilter","merge","startForceLayout","refresh","onResize","resize","stop","off","remove","alpha","updateVisualizationNetwork","nodes","connections","node","vNode","find","asNEATNode","createVNodeFrom","connection","conn","asNEATConnection","inIndex","findIndex","sourceNode","outIndex","targetNode","source","target","getRect","$svg","rect","layout","force","gravity","friction","charge","linkDistance","linkStrength","link","enabled","size","links","y","i","cx","baseVal","cy","getNodeColor","e","getNodeStrokeColor","getConnectionColor","getNodeId","getConnectionId","getDashArray","getMarker","getNodeFilter","hasChanged","getConnectionFilter","category20","style","css","left","top","html","getParameters","show","transition","duration","drag","text","log","Graph","longestPath","vConns","cleanParameters","outNode","toString","stack","union","getConnectionsGoingTo","paths","firstPath","Path","numHops","getLength","pop","path","isLastNode","duplicateFromNode","pushNode","hash","getLocalX","entry","hashElement","yIndex","filter","inPath","index","newPath","slice","shiftTempCanvasLeft","tempCtx","imageData","getImageData","canvas","putImageData","copyFromTempCanvas","tempCanvas","ctx","drawImage","roundToPowerOf2","v","asNEAT","context","numUpdates","initCanvasX","isShowingNetwork","colorScaleColors","colorScalePositions","blankStepsUntilPause","document","createElement","getContext","networkDiv","$canvas","$tempCanvas","networkDivClass","$networkDiv","colorScale","chroma","domain","clonedNetwork","clone","clonedOutNode","disconnect","clear","fillStyle","hex","fillRect","oldBounds","analyserNode","fftSize","getBounds","bounds","createAnalyser","smoothingTimeConstant","connect","blankArray","Uint8Array","frequencyBinCount","lastSum","numRepeats","numBlank","registeredInitId","freqData","getByteFrequencyData","sum","val","initUpdateCanvas","clearInitProcessing","play","playStart","len","secondaryNode","numAllowedRepeats","registeredId","updateCanvas","clearProcessing","showNetwork","forceVis","hideNetwork","getClientRects","scriptNodes","keep","nextNodeID","drop","clearCanvas","jsNode","createScriptProcessor","destination","onaudioprocess","setTransform","currentVisualization","currentVisualizationIndex","vis","nextVisualization","oldResize","onresize","padding","getX","getY","getLocalY","getInitialD","x1","getX1","y1","getY1","getD","x2","getX2","y2","getY2","diff","rects","dNodes","dConnections","dInfo","getLabel","afterPrepHandler","contextPair","offlineNode","offlinePlay","console","inVNode","outVNode","getLongestPathLength","getNumberNodesInHash"],"mappings":";;AACAA,OAAO,4BACJ,4BAA4B,8BAA8B,4BAA4B,4BAA4B,yBAAyB,iCAAiC,WAC7K,SAASC,EAAiBC,EAAiBC,EAAiBC,EAAiBC,EAAiBC,EAAiBC,GAC7G,YAYA,SAASC,GAAyBC,GAC3BC,IAAuBA,EAAwBD,EAEpDE,GAAEC,QAAQC,EAAkC,SAASC,GACnDA,MAEFC,OAAOC,sBAAsBR,GAhB/B,GAAIS,GAAqBhB,EAAgB,WACrCiB,EAAuBhB,EAAgB,WACvCiB,EAAqBhB,EAAgB,WACrCiB,EAAqBhB,EAAgB,WACrCiB,EAAkBhB,EAAgB,WAClCiB,EAA0BhB,EAAgB,WAE1CI,EAAwB,KACxBa,EAA6B,EAC7BV,IASJE,QAAOC,sBAAsBR,EAE7B,IAAIgB,KAEJA,GAAWC,gCAAkC,SAASX,GACpD,GAAIY,KAAOH,CAEX,OADAV,GAAiCa,GAAMZ,EAChCY,GAETF,EAAWG,kCAAoC,SAASD,SAC/Cb,GAAiCa,IAG1CF,EAAWI,8BAAgC,SAASC,GAChD,MAAO,IAAIP,GAAwBO,IAGvCL,EAAWM,yBAA2B,SAASD,GAG7C,GAAIE,KAKJ,OAJAA,GAAeC,KAAKR,EAAWS,sBAAsBJ,IACrDE,EAAeC,KAAKR,EAAWU,yBAAyBL,IACxDA,EAAWE,eAAiBA,EAErB,GAAId,GAAmBY,IAGhCL,EAAWW,2BAA6B,SAASN,GAC/C,MAAO,IAAIX,GAAqBW,IAGlCL,EAAWU,yBAA2B,SAASL,GAC7C,MAAO,IAAIV,GAAmBU,IAGhCL,EAAWY,yBAA2B,SAASP,GAC9C,MAAO,IAAIT,GAAmBS,IAG/BL,EAAWS,sBAAwB,SAASJ,GAC1C,MAAO,IAAIR,GAAgBQ,IAG7BtB,EAAY,WAAaiB,EAMxB,WAGG,IAAI,GAFAa,GAAW,EACXC,GAAW,KAAM,MAAO,SAAU,KAC9BC,EAAI,EAAGA,EAAID,EAAQE,SAAWzB,OAAOC,wBAAyBuB,EAClExB,OAAOC,sBAAwBD,OAAOuB,EAAQC,GAAG,yBACjDxB,OAAO0B,qBAAuB1B,OAAOuB,EAAQC,GAAG,yBAClBxB,OAAOuB,EAAQC,GAAG,8BAG/CxB,QAAOC,wBACRD,OAAOC,sBAAwB,SAAS0B,GACpC,GAAIC,IAAW,GAAIC,OAAOC,UACtBC,EAAaC,KAAKC,IAAI,EAAG,IAAML,EAAWN,IAC1CX,EAAKX,OAAOkC,WAAW,WAAaP,EAASC,EAAWG,IAC1DA,EAEF,OADAT,GAAWM,EAAWG,EACfpB,IAGVX,OAAO0B,uBACR1B,OAAO0B,qBAAuB,SAASf,GACnCwB,aAAaxB,UAK7B1B,OAAO,6BACJ,WACD,SAASO,GACP,YAwWA,SAAS4C,GAAmBtB,GAC1B,MAAO,WACCA,EAAWuB,KAAK,SAASvB,EAAWH,GAAG,QAC7Cf,EAAE0C,OAAOxB,EAAY,SAASyB,EAAQC,EAAOC,GAC3C,MAAU,SAANA,GAAsB,OAANA,EACXF,EACFA,EAAOE,EAAI,MACf7C,EAAE8C,SAASF,GACRG,EAAUH,GAEVA,EADAA,EAAMI,QAAQ,GAEhBJ,GACF,QACD,IACH,SAGJ,QAASG,GAAUnB,GAEjB,OAAQA,IAAMA,KAAOA,EAAI,GAG3B,QAASqB,GAAYC,GACnB,MAAOA,GAAIC,QAAQ,SAAU,IA9X/B,GAAIC,GAAiBC,QAAQ,+BAA+B,WACxDC,EAAqBD,QAAQ,mCAAmC,WAChEE,EAAUF,QAAQ,wBAAwB,WAC1CG,EAAQH,QAAQ,gBAAgB,WAChCI,EAAcJ,QAAQ,sBAAsB,WAG5C7C,GAFQ6C,QAAQ,gBAAgB,WAEX,SAASnC,GAChClB,EAAE0D,SAASC,KAAMzC,EAAYyC,KAAKC,oBAEpCpD,GAAmBqD,UAAUD,mBAC3BE,QAAS,KAETC,MAAO,OACPC,OAAQ,IACRC,SAAU,gBACVC,aAAc,KAGhB1D,EAAmBqD,UAAUM,KAAO,WAClCR,KAAKS,UACLT,KAAKU,gBACLV,KAAKW,YAAc,KACnBX,KAAKY,aAAe,EAAE,GACtBZ,KAAKa,iBAAmB,MAG1BhE,EAAmBqD,UAAUY,MAAQ,WACnC,GAAIC,GAAOf,KAEPgB,EAAMC,GAAGC,OAAOlB,KAAKM,UACtBa,OAAO,OACLC,KAAK,QAASpB,KAAKI,OACnBgB,KAAK,SAAUpB,KAAKK,QACpBe,KAAK,iBAAkB,OACvBA,KAAK,sBAAuB,QAC5BA,KAAK,QAAS,8BACdA,KAAK,UAAW,OAChBA,KAAK,YAAa,YAClBA,KAAK,QAAS,kBACdA,KAAK,QAAS,UAAUpB,KAAKK,OAAO,WAAWL,KAAKI,MAAM,KAG3DiB,EAAQL,EAAIG,OAAO,KAClBG,KAAKL,GAAGM,SAASC,OAAOC,GAAG,OAAQ,WAClCV,EAAKH,YAAcK,GAAGS,MAAMC,UAC5BC,EAAOR,KAAK,YACV,aAAeH,GAAGS,MAAMC,UAAY,WACxBV,GAAGS,MAAMG,MAAQ,QAGjCD,EAASZ,EAAIG,OAAO,IAExBE,GAAMF,OAAO,QACVC,KAAK,QAAS,iBACdA,KAAK,OAAQ,iBAEhBQ,EAAOT,OAAO,KAAKC,KAAK,QAAS,eACjCQ,EAAOT,OAAO,KAAKC,KAAK,QAAS,UACjCQ,EAAOT,OAAO,KAAKC,KAAK,QAAS,SAEjCpB,KAAKa,iBAAmBiB,EAAE,eACvBC,SAAS,0BACTC,OACHF,EAAE9B,KAAKM,UAAUa,OAAOnB,KAAKa,kBAE7Bb,KAAKgB,IAAMA,EACXhB,KAAKiC,EAAIL,CAET,IACIM,GAAON,EAAOT,OAAO,OAEzBe,GAAKC,UAAU,UACZC,MAAM,2BAA4B,8BACpCC,QAAQlB,OAAO,UACbC,KAAK,KAAM,SAASkB,GAAK,MAAOA,KAChClB,KAAK,UAAW,cAChBA,KAAK,OAAQ,IACbA,KAAK,OAAQ,GACbA,KAAK,cAAe,GACpBA,KAAK,eAAgB,GACrBA,KAAK,SAAU,QACjBD,OAAO,QACLC,KAAK,IAAK,iBAIb,IAAImB,GAAUL,EAAKf,OAAO,UACvBC,KAAK,KAAM,8BACXA,KAAK,SAAU,QACfA,KAAK,QAAS,QACdA,KAAK,IAAK,QAAQA,KAAK,IAAK,OAE/BmB,GAAQpB,OAAO,kBACZC,KAAK,KAAM,eACXA,KAAK,eAAgB,GACrBA,KAAK,SAAU,QAElBmB,EAAQpB,OAAO,iBACZC,KAAK,KAAM,QACXA,KAAK,OAAQ,UAIbA,KAAK,SAAU,sDACfA,KAAK,SAAU,cAElB,IAAIoB,GAAQD,EAAQpB,OAAO,UAC3BqB,GAAMrB,OAAO,eACVC,KAAK,KAAM,eACdoB,EAAMrB,OAAO,eACVC,KAAK,KAAM,iBAEdpB,KAAKyC,mBACLzC,KAAK0C,UAEL1C,KAAK2C,SAAW,WACd5B,EAAK2B,WAEPZ,EAAErF,QAAQgF,GAAG,SAAUzB,KAAK2C,UAE5BlG,OAAOkC,WAAW,WAChBmD,EAAErF,QAAQmG,UACT,MAEL/F,EAAmBqD,UAAU2C,KAAO,WAClCf,EAAErF,QAAQqG,IAAI,SAAU9C,KAAK2C,UAC7Bb,EAAE9B,KAAKM,SAAW,QAAQyC,SAC1B/C,KAAKW,YAAYqC,MAAM,IAMzBnG,EAAmBqD,UAAU+C,2BAA6B,WAExD,GAAIC,GAAQlD,KAAKS,OACb0C,EAAcnD,KAAKU,YAEvBrE,GAAEC,QAAQ0D,KAAKG,QAAQ+C,MAAO,SAASE,GACrC,GAAIC,GAAQhH,EAAEiH,KAAKJ,GAAQK,WAAcH,GACrCC,IACJH,EAAMxF,KAAKmC,EAAM2D,gBAAgBJ,MAGnC/G,EAAEC,QAAQ0D,KAAKG,QAAQgD,YAAa,SAASM,GAC3C,GAAIC,GAAOrH,EAAEiH,KAAKH,GAAcQ,iBAAoBF,GACpD,KAAIC,EAAJ,CAGA,GAAIE,GAAUvH,EAAEwH,UAAUX,GAAQK,WAAcE,EAAWK,aACvDA,EAAaZ,EAAMU,GACnBG,EAAW1H,EAAEwH,UAAUX,GAAQK,WAAcE,EAAWO,aACxDA,EAAad,EAAMa,EACvBZ,GAAYzF,KAAK,GAAIoC,IACnBmE,OAAQH,EACRI,OAAQF,EACRL,iBAAkBF,SAKxB5G,EAAmBqD,UAAUiE,QAAU,WACrC,GAAIC,GAAOtC,EAAE9B,KAAKgB,IAAI,GAAG,GACzB,QACEZ,MAAOgE,EAAKhE,QACZC,OAAQ+D,EAAK/D,WAIjBxD,EAAmBqD,UAAUuC,iBAAmB,WAC9C,GAAIzB,GAAMhB,KAAKgB,IACXP,EAAST,KAAKS,OACdC,EAAeV,KAAKU,aACpB2D,EAAOrE,KAAKmE,UACZ/D,EAAQiE,EAAKjE,MACbC,EAASgE,EAAKhE,MAElBL,MAAKW,YAAcM,GAAGqD,OAAOC,QAC1BC,QAAQ,KACRC,SAAS,IACTC,OAAO,MACPC,aAAa,IACbC,aAAa,SAASC,GACrB,MAAOA,GAAKlB,iBAAiBmB,UAE9BC,MAAM3E,EAAOC,IAEhBL,KAAKW,YACFuC,MAAMzC,GACNuE,MAAMtE,GACNI,QAEHd,KAAKW,YAAYc,GAAG,OAAQ,WAC1BT,EAAIE,OAAO,gBAAgBiB,UAAU,eAClCf,KAAK,IAAK,SAASkB,GAClB,MAAO,IAAIA,EAAE2B,OAAOhG,EAAE,IAAIqE,EAAE2B,OAAOgB,EAAE,IAAI3C,EAAE4B,OAAOjG,EAAE,IAAIqE,EAAE4B,OAAOe,GAGrE,IAAI/B,GAAQlC,EAAIE,OAAO,UAAUiB,UAAU,SACxCf,KAAK,KAAM,SAASkB,GACnB,MAAOA,GAAErE,IAEVmD,KAAK,KAAM,SAASkB,GACnB,MAAOA,GAAE2C,GAGbjE,GAAIE,OAAO,WAAWiB,UAAU,UAC7Bf,KAAK,IAAK,SAASkB,EAAG4C,GACrB,MAAOhC,GAAM,GAAGgC,GAAGC,GAAGC,QAAQnG,QAE/BmC,KAAK,IAAK,SAASkB,EAAG4C,GACrB,MAAOhC,GAAM,GAAGgC,GAAGG,GAAGD,QAAQnG,MAAM,QAK5CpC,EAAmBqD,UAAUwC,QAAU,WAarC,QAAS4C,GAAaC,GACpB,MAAIA,GAAEhC,qBAAsB9D,IACxB8F,EAAEhC,qBAAsB5D,GACnB,UACL4F,EAAEhC,qBAAsB3D,GACnB,OACF,UAET,QAAS4F,GAAmBD,GAC1B,MAAIA,GAAEhC,qBAAsB9D,IACxB8F,EAAEhC,qBAAsB5D,GACnB,UACL4F,EAAEhC,qBAAsB3D,GACnB,OACF,UAGT,QAAS6F,GAAmBF,GAC1B,MAAIA,GAAE5B,iBAAiBmB,QACd,OAEA,OAGX,QAASY,GAAUH,GACjB,MAAOA,GAAEhC,WAAWnG,GAEtB,QAASuI,GAAgBJ,GACvB,MAAOA,GAAE5B,iBAAiBvG,GAG5B,QAASwI,GAAalC,GACpB,MAAOA,GAAKC,iBAAiBmB,QAC3B,GAAK,MAGT,QAASe,GAAUnC,GACjB,MAAO,SACJA,EAAKC,iBAAiBmB,QAAU,2BAA6B,6BAC9D,IAGJ,QAASgB,GAAc1C,GACrB,MAAOA,GAAKG,WAAWwC,WACrB,mCAAqC,GAEzC,QAASC,GAAoBtC,GAC3B,MAAOA,GAAKC,iBAAiBoC,WAC3B,mCAAqC,GA5DzC,GAAIhF,GAAOf,KACPS,EAAST,KAAKS,OACdC,EAAeV,KAAKU,aACpBH,EAAeP,KAAKO,aACpB8D,EAAOrE,KAAKmE,SAEhBnE,MAAKiD,6BAELjD,KAAKgB,IAAIE,OAAO,kBACbE,KAAK,QAASiD,EAAKjE,OACnBgB,KAAK,SAAUiD,EAAKhE,OAqDvB,IAAIM,GAAcX,KAAKW,WACvBA,GAAYoE,MAAMV,EAAKjE,MAAOiE,EAAKhE,SACnCM,EAAYG,OAEZ,IAAIqC,GAAcnD,KAAKgB,IAAIE,OAAO,gBAAgBiB,UAAU,eACzDC,KAAK1B,EAAciF,GAElB9E,EAAmBb,KAAKa,iBAExBuC,GADQnC,GAAGY,MAAMoE,aACVjG,KAAKgB,IAAIE,OAAO,UAAUiB,UAAU,SAC5CC,KAAK3B,EAAQiF,GAEhBvC,GAAYd,QAAQlB,OAAO,QACxBC,KAAK,QAAS,cACd8E,MAAM,SAAUT,GAChBS,MAAM,mBAAoBN,GAC1BxE,KAAK,aAAcyE,GACnBzE,KAAK,SAAU4E,GACfvE,GAAG,YAAa,SAASa,GACxBzB,EACGsF,KACCC,MAAS9D,EAAE4B,OAAOjG,EAAEqE,EAAE2B,OAAOhG,GAAG,EAAI8C,EAAKH,YAAY,GACrDyF,KAAQ/D,EAAE4B,OAAOe,EAAE3C,EAAE2B,OAAOgB,GAAG,EAAIlE,EAAKH,YAAY,IAExD,IAAI0F,GAAOzH,EAAmByD,EAAEqB,iBAAiB4C,gBACjD1F,GACGyF,KAAKA,GACLE,SAEJ/E,GAAG,WAAY,WACdZ,EACGyF,KAAK,IACLtE,SAGPmB,EAAYsD,aACTC,SAASnG,GACT2F,MAAM,SAAUT,GAChBS,MAAM,mBAAoBN,GAC1BxE,KAAK,aAAcyE,GACnBzE,KAAK,SAAU4E,GAElB5C,EAAKf,QAAQlB,OAAO,UACjBC,KAAK,QAAS,QACdA,KAAK,IAAK,IACVA,KAAK,OAAQkE,GACblE,KAAK,SAAUoE,GACfpE,KAAK,SAAU0E,GACfxE,KAAKX,EAAYgG,MACjBlF,GAAG,YAAa,SAASa,GACxBzB,EACGsF,KACCC,KAAQ9D,EAAErE,EAAI8C,EAAKH,YAAY,GAC/ByF,IAAO/D,EAAE2C,EAAIlE,EAAKH,YAAY,IAElC,IAAI0F,GAAOzH,EAAmByD,EAAEiB,WAAWgD,gBAC3C1F,GACGyF,KAAKA,GACLE,SAEJ/E,GAAG,WAAY,WACdZ,EACGyF,KAAK,IACLtE,SAEPoB,EAAKqD,aACFC,SAASnG,GACTa,KAAK,SAAU0E,EAEL9F,MAAKgB,IAAIE,OAAO,WAAWiB,UAAU,UAC/CC,KAAK3B,EAAQiF,GACbrD,QAAQlB,OAAO,QACbC,KAAK,QAAS,SACdwF,KAAK,SAAStE,EAAG4C,GAChB,MAAO5F,GAAYmB,EAAOyE,GAAG3B,WAAWzE,SA8BhD7C,EAAY,WAAaY,IAE7BnB,OAAO,gBACJ,WACD,SAASO,GACP,YAEA,IAAI2D,GAAUF,QAAQ,wBAAwB,WAC1CmH,EAAMnH,QAAQ,gBAAgB,WAAWmH,IAGzCC,EAAQ,YAEZA,GAAMC,YAAc,SAAStG,EAAQuG,GAGnC3K,EAAEC,QAAQmE,EAAQ,SAAS4C,GACzBA,EAAM4D,mBAIR,IAAIC,GAAU7K,EAAEiH,KAAK7C,EAAQ,SAAS8E,GACpC,MAAOA,GAAEhC,qBAAsB3D,IAGjCiH,GAAI,kBAAmBK,EAAQ3D,WAAW4D,WAE1C,IAAIC,KACJA,GAAQ/K,EAAEgL,MAAMD,EAAON,EAAMQ,sBAAsBJ,EAASF,GAE5D,IAAIO,MACAC,EAAY,GAAIC,GAAKP,EAMzB,KALAA,EAAQH,YAAcS,EACtBN,EAAQQ,QAAUF,EAAUG,YAC5BJ,EAAM7J,KAAK8J,GAGJJ,EAAMlJ,QAAQ,CACnB,GAAIwF,GAAO0D,EAAMQ,MAEb3D,EAASP,EAAKO,OACdC,EAASR,EAAKQ,MAElB,IAAID,EAAO8C,YACTF,EAAI,sBAED,CACH,GAAIgB,GAAO3D,EAAO6C,WAIbc,GAAKC,WAAW5D,KACnB2D,EAAOA,EAAKE,kBAAkBb,IAEhCW,EAAKG,SAAS/D,GACdA,EAAOyD,QAAUG,EAAKF,YACtB1D,EAAO8C,YAAcc,EAIvBT,EAAQ/K,EAAEgL,MAAMD,EAAON,EAAMQ,sBAAsBrD,EAAQ+C,IAI7D,GAAIiB,KACJ5L,GAAEC,QAAQmE,EAAQ,SAAS4C,GACzB,GAAInE,GAAMmE,EAAM6E,YACZC,EAAQF,EAAK/I,EACZiJ,KACHA,GAAUlJ,MAAO,GACjBgJ,EAAK/I,GAAOiJ,GAGd9E,EAAM+E,YAAcD,EACpB9E,EAAMgF,OAASF,EAAMlJ,WAIzB6H,EAAMQ,sBAAwB,SAASpD,EAAQxD,GAC7C,MAAOrE,GAAEiM,OAAO5H,EAAc,SAAS6E,GACrC,MAAOA,GAAE5B,iBAAiBmB,SAAWS,EAAErB,SAAWA,IAKtD,IAAIuD,GAAO,SAASpE,GAClBrD,KAAKkD,SACDG,GACFrD,KAAKgI,SAAS3E,GAElBoE,GAAKvH,UAAU8H,SAAW,SAAS3E,GACjCrD,KAAKkD,MAAMxF,KAAK2F,IAElBoE,EAAKvH,UAAUqI,OAAS,SAASlF,GAC/B,QAAShH,EAAEiH,KAAKtD,KAAKkD,OAAQK,WAAcF,EAAME,cAKnDkE,EAAKvH,UAAUyH,UAAY,WACzB,MAAO3H,MAAKkD,MAAMhF,OAAO,GAE3BuJ,EAAKvH,UAAU4H,WAAa,SAASzE,GACnC,MAAOrD,MAAKkD,MAAMlD,KAAKkD,MAAMhF,OAAO,KAAKmF,GAE3CoE,EAAKvH,UAAU6H,kBAAoB,SAAS1E,GAC1C,GAAImF,GAAQnM,EAAEwH,UAAU7D,KAAKkD,MAAO,SAASE,GAC3C,MAAOA,GAAKG,aAAeF,EAAME,aAG/BkF,EAAU,GAAIhB,EAElB,OADAgB,GAAQvF,MAAQlD,KAAKkD,MAAMwF,MAAM,EAAGF,EAAM,GACnCC,GAGTxM,EAAY,WAAa6K,IAE7BpL,OAAO,kCACJ,WACD,SAASO,GACP,YAmUA,SAAS0M,KACP,GAAIC,GAAU5I,KAAK4I,QACfC,EAAYD,EAAQE,aAAa,EAAG,EAAGF,EAAQG,OAAO3I,MAAM,EAAGwI,EAAQG,OAAO1I,OAClFuI,GAAQI,aAAaH,EAAW,EAAG,GAGrC,QAASI,KACP,GAAIF,GAAS/I,KAAK+I,OACdG,EAAalJ,KAAKkJ,UAEtBlJ,MAAKmJ,IAAIC,UAAUF,EACjB,EAAG,EAAGA,EAAW9I,MAAO8I,EAAW7I,OACnC,EAAG,EAAG0I,EAAO3I,MAAO2I,EAAO1I,QAG/B,QAASgJ,GAAgBC,GAOvB,MANAA,KACAA,GAAGA,GAAG,EACNA,GAAGA,GAAG,EACNA,GAAGA,GAAG,EACNA,GAAGA,GAAG,EACNA,GAAGA,GAAG,KACGA,EAxVX,GAAIpM,GACAqM,EAAS7J,QAAQ,iBAAiB,WAClC7C,EAAqB6C,QAAQ,6BAA6B,WAC1D8J,EAAUD,EAAOC,QAIjBxM,EAA0B,SAASO,GACrClB,EAAE0D,SAASC,KAAMzC,EAAYyC,KAAKC,mBAClCD,KAAKyJ,WAAa,EAClBzJ,KAAK0J,YAAc,EACnB1J,KAAK2J,kBAAmB,EAE1B3M,GAAwBkD,UAAUD,mBAChCE,QAAS,KAETC,MAAO,OACPC,OAAQ,OACRC,SAAU,2BAGVsJ,kBAAmB,UAAW,UAAW,UAAW,WACpDC,qBAAsB,EAAG,IAAM,IAAM,GAErCC,qBAAsB,GAGxB,IAAI1M,GAAK,CACTJ,GAAwBkD,UAAUM,KAAO,WACvC,GAAIuI,GAASgB,SAASC,cAAc,UAChCb,EAAMJ,EAAOkB,WAAW,MACxBf,EAAaa,SAASC,cAAc,UACpCpB,EAAUM,EAAWe,WAAW,MAChCC,EAAaH,SAASC,cAAc,MAGnC9M,KACHA,EAAawC,QAAQ,4BAA4B,YAEnDM,KAAK+I,OAASA,EACd/I,KAAKmJ,IAAMA,EACXnJ,KAAKkJ,WAAaA,EAClBlJ,KAAK4I,QAAUA,EACf5I,KAAKkK,WAAaA,EAElBlK,KAAKmK,QAAUrI,EAAEiH,GACjB/I,KAAKoK,YAActI,EAAEoH,GACrBlJ,KAAKqK,gBAAkB,aAAajN,EACpC0E,EAAE9B,KAAKM,UACJyB,SAAS,uBACZ/B,KAAKsK,YAAcxI,EAAEoI,GAClBnI,SAAS/B,KAAKqK,iBACdtI,SAAS,8BACTC,OAEHhC,KAAKuK,WAAa,GAAIC,QAAO3I,MAC3B7B,KAAK4J,iBACL5J,KAAK6J,qBACP7J,KAAKuK,WAAWE,QAAQ,EAAG,MAE3BzK,KAAKkH,QAAUlH,KAAKG,QAAQ+C,MAAM,GAIlClD,KAAK0K,cAAgB1K,KAAKG,QAAQwK,QAClC3K,KAAK4K,cAAgB5K,KAAK0K,cAAcxH,MAAM,GAC9ClD,KAAK4K,cAAcxH,KAAKyH,cAG1B7N,EAAwBkD,UAAUY,MAAQ,WA4CxC,QAASgK,KACP3B,EAAI4B,UAAUhK,EAAKwJ,WAAW,GAAGS,MACjC7B,EAAI8B,SAAS,EAAE,EAAEC,EAAU9K,MAAM8K,EAAU7K,QA7C7C,GAMI8K,GANApK,EAAOf,KACP+I,EAAS/I,KAAK+I,OACdI,EAAMnJ,KAAKmJ,IACXD,EAAalJ,KAAKkJ,WAClBN,EAAU5I,KAAK4I,QACfgC,EAAgB5K,KAAK4K,aAGzB9I,GAAE9B,KAAKM,UAAUa,OAAOnB,KAAKmK,SAC7BrI,EAAE9B,KAAKM,UAAUa,OAAOnB,KAAKsK,aAE7BtK,KAAKmK,QAAQhE,KACX/F,MAAOJ,KAAKI,MACZC,OAAQL,KAAKK,SAEfL,KAAKoK,YAAYjE,KACf/F,MAAOJ,KAAKI,MACZC,OAAQL,KAAKoL,SAGf,IAAIF,GAAYnK,EAAKsK,WACrBrL,MAAKoL,QAAU/B,EAAgB6B,EAAU7K,QACzC0I,EAAO3I,MAAQ8K,EAAU9K,MACzB2I,EAAO1I,OAAS6K,EAAU7K,OAC1B6I,EAAW9I,MAAS8K,EAAU9K,MAC9B8I,EAAW7I,OAASL,KAAKoL,QAAQ,EACjCpL,KAAK2C,SAAW,WACd,GAAI2I,GAASvK,EAAKsK,WAClBzC,GAAQQ,UAAUL,EAChB,EAAG,EAAGA,EAAO3I,MAAO2I,EAAO1I,OAC3B,EAAG,EAAG6I,EAAW9I,MAAO8I,EAAW7I,QACrC0I,EAAO3I,MAAQkL,EAAOlL,MACtB2I,EAAO1I,OAASiL,EAAOjL,OACvB6K,EAAYI,EACZR,IACA3B,EAAIC,UAAUF,EACZ,EAAG,EAAGA,EAAW9I,MAAO8I,EAAW7I,OACnC,EAAG,EAAG0I,EAAO3I,MAAO2I,EAAO1I,QAC7B6I,EAAW9I,MAAQkL,EAAOlL,MAC1B8I,EAAW7I,OAASU,EAAKqK,QAAQ,GAEnCtJ,EAAErF,QAAQgF,GAAG,SAAUzB,KAAK2C,UAM5BmI,IAEAK,EAAe3B,EAAQ+B,iBACvBJ,EAAaK,sBAAwB,EACrCL,EAAaC,QAAUpL,KAAKoL,QAE5BR,EAAcxH,KAAKqI,QAAQN,EAE3B,IAAIO,GAAa,GAAIC,YAAWR,EAAaS,mBACzCC,EAAU,EACVC,EAAa,EACbC,EAAW,EACXjC,EAAuB9J,KAAK8J,oBAEhC9J,MAAKgM,iBAAmB9O,EAAWC,gCAAgC,WACjE,GAAI8O,GAAW,GAAIN,YAAWR,EAAaS,kBAC3CT,GAAae,qBAAqBD,EAElC,IAAIE,GAAM9P,EAAE0C,OAAOkN,EAAU,SAASE,EAAKC,GACzC,MAAOD,GAAMC,GACZ,EAICD,KAAMN,KACNC,EACEA,GAAc,KACdC,EACajC,EAAXiC,EACFhL,EAAKsL,iBAAiBX,GAEtB3K,EAAKuL,wBAGPvL,EAAKsL,iBAAiBJ,GACtBF,EAAW,KAIbD,EAAa,EACbC,EAAW,EACXhL,EAAKsL,iBAAiBJ,IAGxBJ,EAAUM,IAGZnM,KAAKsM,oBAAsB,WACzBpP,EAAWG,kCAAkC2C,KAAKgM,kBAClDb,EAAaN,cAGf7K,KAAK0K,cAAc6B,OAEnBvM,KAAKwM,aAMPxP,EAAwBkD,UAAUmM,iBAAmB,SAASJ,GAE5D,KAAIjM,KAAKyJ,WAAazJ,KAAK0J,aAAe1J,KAAK+I,OAAO3I,OAAtD,CAGA,GAGI8E,GAAGuH,EAAKL,EAHRxD,EAAU5I,KAAK4I,QACf2B,EAAavK,KAAKuK,WAClBrB,EAAalJ,KAAKkJ,UAGtB,KAAKhE,EAAE,EAAEuH,EAAMR,EAAS/N,OAAUuO,EAAFvH,IAASA,EACvCkH,EAAMH,EAAS/G,GACf0D,EAAQmC,UAAYR,EAAW6B,GAAKpB,MACpCpC,EAAQqC,SAASjL,KAAK0J,YAAaR,EAAW7I,OAAO6E,EAAG,EAAG,KAE3DlF,KAAK0J,YACPT,EAAmB3H,KAAKtB,QAG1BhD,EAAwBkD,UAAUsM,UAAY,WAC5C,GAMIrB,GANApK,EAAOf,KAKPkH,GAJSlH,KAAK+I,OACR/I,KAAKmJ,IACEnJ,KAAKkJ,WACRlJ,KAAK4I,QACL5I,KAAKkH,QAGnBiE,GAAe3B,EAAQ+B,iBACvBJ,EAAaK,sBAAwB,EACrCL,EAAaC,QAAUpL,KAAKoL,QAE5BlE,EAAQwF,cAAcjB,QAAQN,EAE9B,IAAIO,GAAa,GAAIC,YAAWR,EAAaS,mBACzCC,EAAU,EACVc,EAAoB,EACpB7C,EAAuB9J,KAAK8J,qBAC5BgC,EAAahC,EACbiC,EAAWjC,CAEf9J,MAAK4M,aAAe1P,EAAWC,gCAAgC,WAE7D,GAAI8O,GAAW,GAAIN,YAAWR,EAAaS,kBAC3CT,GAAae,qBAAqBD,EAElC,IAAIE,GAAM9P,EAAE0C,OAAOkN,EAAU,SAASE,EAAKC,GACzC,MAAOD,GAAMC,GACZ,EAICD,KAAQN,KACRC,IACAC,EAEED,GAAca,EACD7C,EAAXiC,GACFhL,EAAK8L,aAAanB,IAGpB3K,EAAK8L,aAAaZ,GAClBF,EAAW,KAIbD,EAAa,EACbC,EAAW,EACXhL,EAAK8L,aAAaZ,IAGpBJ,EAAUM,IAGZnM,KAAK8M,gBAAkB,WACrB5P,EAAWG,kCAAkC2C,KAAK4M,cAClDzB,EAAaN,eAIjB7N,EAAwBkD,UAAU6M,YAAc,WAC3C/M,KAAK2J,mBAER3J,KAAK2J,kBAAmB,EACxB3J,KAAKsK,YAAY9D,OAEZxG,KAAKgN,WACRhN,KAAKgN,SAAW,GAAInQ,IAClBsD,QAASH,KAAKG,QACdG,SAAU,IAAIN,KAAKqK,gBACnBjK,MAAM,OACNC,OAAO,SAETL,KAAKgN,SAASxM,QAGhBR,KAAKgN,SAASlM,UAEhB9D,EAAwBkD,UAAU+M,YAAc,WAC1CjN,KAAK2J,mBAET3J,KAAK2J,kBAAmB,EACxB3J,KAAKgN,SAASnK,OACd7C,KAAKsK,YAAYtI,SAGnBhF,EAAwBkD,UAAU2C,KAAO,WACvC7C,KAAKmK,QAAQpH,SACb/C,KAAKsK,YAAYvH,SACjBjB,EAAErF,QAAQqG,IAAI,SAAU9C,KAAK2C,UAC7B3C,KAAKsM,sBACLtM,KAAK8M,mBAGP9P,EAAwBkD,UAAUwC,QAAU,WAEtC1C,KAAKgN,UACPhN,KAAKgN,SAAStK,WAMlB1F,EAAwBkD,UAAU2M,aAAe,SAASZ,GACxD,GAGI/G,GAAGuH,EAAKL,EAHRxD,EAAU5I,KAAK4I,QACf2B,EAAavK,KAAKuK,WAClBrB,EAAalJ,KAAKkJ,UAKtB,KADAP,EAAoBrH,KAAKtB,MACpBkF,EAAE,EAAEuH,EAAMR,EAAS/N,OAAUuO,EAAFvH,IAASA,EACvCkH,EAAMH,EAAS/G,GACf0D,EAAQmC,UAAYR,EAAW6B,GAAKpB,MACpCpC,EAAQqC,SAAS/B,EAAW9I,MAAM,EAAG8I,EAAW7I,OAAO6E,EAAG,EAAG,KAG7DlF,KAAKyJ,WACPR,EAAmB3H,KAAKtB,OAG1BhD,EAAwBkD,UAAUmL,UAAY,WAC5C,MAAOrL,MAAK+I,OAAOmE,iBAAiB,IA4BtCjR,EAAY,WAAae,IAE7BtB,OAAO,0BACJ,WACD,SAASO,GACP,YACA,IAAIsN,GAAS7J,QAAQ,iBAAiB,WAClC8J,EAAUD,EAAOC,QAIjB2D,KACAC,EAAQ,WACV,GAAIC,GAAa,CACjB,OAAO,UAASjK,GAGd,MAFAA,GAAKhG,GAAKgG,EAAKhG,IAAOiQ,IACtBF,EAAY/J,EAAKhG,IAAMgG,EAChBA,MAGPkK,EAAO,SAASlK,GAElB,aADO+J,GAAY/J,EAAKhG,IACjBgG,GAGLrG,EAAkB,SAASQ,GAC7BlB,EAAE0D,SAASC,KAAMzC,EAAYyC,KAAKC,mBAEpClD,GAAgBmD,UAAUD,mBACxBE,QAAS,KAETC,MAAO,OACPC,OAAQ,IACRC,SAAU,mBAIV8K,QAAS,KAGTxB,kBAAmB,UAAW,UAAW,UAAW,WACpDC,qBAAsB,EAAG,IAAM,IAAM,IAGvC9M,EAAgBmD,UAAUM,KAAO,WAC/B,GAAIuI,GAASgB,SAASC,cAAc,UAChCb,EAAMJ,EAAOkB,WAAW,MACxBf,EAAaa,SAASC,cAAc,UACpCpB,EAAUM,EAAWe,WAAW,KACpCjK,MAAK+I,OAASA,EACd/I,KAAKmJ,IAAMA,EACXnJ,KAAKkJ,WAAaA,EAClBlJ,KAAK4I,QAAUA,EAEf5I,KAAKmK,QAAUrI,EAAEiH,GACjB/I,KAAKoK,YAActI,EAAEoH,GAErBlJ,KAAKuK,WAAa,GAAIC,QAAO3I,MAC3B7B,KAAK4J,iBACL5J,KAAK6J,qBACP7J,KAAKuK,WAAWE,QAAQ,EAAG,MAE3BzK,KAAKkH,QAAUlH,KAAKG,QAAQ+C,MAAM,IAGpCnG,EAAgBmD,UAAUY,MAAQ,WA8ChC,QAASyM,KACMxM,EAAKsK,WAClBlC,GAAI4B,UAAUhK,EAAKwJ,WAAW,GAAGS,MACjC7B,EAAI8B,SAAS,EAAE,EAAElC,EAAO3I,MAAM2I,EAAO1I,QAhDvC,GAQImN,GAAQrC,EARRpK,EAAOf,KACP+I,EAAS/I,KAAK+I,OACdI,EAAMnJ,KAAKmJ,IACXD,EAAalJ,KAAKkJ,WAElBiB,GADUnK,KAAK4I,QACL5I,KAAKmK,SACfC,EAAcpK,KAAKoK,YACnBlD,EAAUlH,KAAKkH,OAGnBsG,GAASJ,EAAK5D,EAAQiE,sBAAsB,KAAM,EAAG,IACrDD,EAAO/B,QAAQjC,EAAQkE,aACvB1N,KAAKwN,OAASA,EAEdrC,EAAe3B,EAAQ+B,iBACvBJ,EAAaK,sBAAwB,EACrCL,EAAaC,QAAUpL,KAAKoL,QAC5BpL,KAAKmL,aAAeA,EAEpBjE,EAAQ9D,KAAKqI,QAAQN,GACrBA,EAAaM,QAAQ+B,GAErB1L,EAAE9B,KAAKM,UAAUa,OAAOgJ,GAExBA,EAAQhE,KACN/F,MAAOJ,KAAKI,MACZC,OAAQL,KAAKK,SAEf+J,EAAYjE,KACV/F,MAAOJ,KAAKI,MACZC,OAAQL,KAAKK,SAGfL,KAAK2C,SAAW,WAEd,GAAI2I,GAASvK,EAAKsK,WAClBtC,GAAO3I,MAAQkL,EAAOlL,MACtB2I,EAAO1I,OAASiL,EAAOjL,OACvB6I,EAAW9I,MAAQkL,EAAOlL,MAC1B8I,EAAW7I,OAASiL,EAAOjL,OAC3BkN,KAEFzL,EAAErF,QAAQgF,GAAG,SAAUzB,KAAK2C,UAC5B3C,KAAK2C,UAQL,IAAI+I,GAAa,GAAIC,YAAWR,EAAaS,mBACzCC,EAAU,EACVC,EAAa,CAEjB0B,GAAOG,eAAiB,WAEtB,GAAI1B,GAAW,GAAIN,YAAWR,EAAaS,kBAC3CT,GAAae,qBAAqBD,EAElC,IAAIE,GAAM9P,EAAE0C,OAAOkN,EAAU,SAASE,EAAKC,GACzC,MAAOD,GAAMC,GACZ,EAGCD,KAAMN,KACNC,EAEA/K,EAAK8L,aADHf,GAAc,EACEJ,EAGAO,KAGpBH,EAAa,EACb/K,EAAK8L,aAAaZ,IAGpBJ,EAAUM,IAIdpP,EAAgBmD,UAAU2C,KAAO,WAC/B7C,KAAKmK,QAAQpH,SACbjB,EAAErF,QAAQqG,IAAI,SAAU9C,KAAK2C,UAC7B3C,KAAKwN,OAAO3C,WAAWrB,EAAQkE,aAC/B1N,KAAKmL,aAAaN,WAAW7K,KAAKwN,QAClCF,EAAKtN,KAAKwN,SAGZzQ,EAAgBmD,UAAUwC,QAAU,aAOpC3F,EAAgBmD,UAAU2M,aAAe,SAASZ,GAChD,GAMI/G,GAAGuH,EAAKL,EANRrD,EAAS/I,KAAK+I,OACdG,EAAalJ,KAAKkJ,WAClBN,EAAU5I,KAAK4I,QACfO,EAAMnJ,KAAKmJ,IACXoB,EAAavK,KAAKuK,WAClBe,EAAStL,KAAKqL,WAIlB,IAAsB,mBAAXC,GAAX,CAIA,IADA1C,EAAQQ,UAAUL,EAAQ,EAAG,EAAGuC,EAAOlL,MAAOkL,EAAOjL,QAChD6E,EAAE,EAAEuH,EAAMR,EAAS/N,OAAUuO,EAAFvH,IAASA,EACvCkH,EAAMH,EAAS/G,GACfiE,EAAI4B,UAAYR,EAAW6B,GAAKpB,MAChC7B,EAAI8B,SAASK,EAAOlL,MAAM,EAAGkL,EAAOjL,OAAO6E,EAAG,EAAG,EAGnDiE,GAAIxH,UAAU,GAAI,GAClBwH,EAAIC,UAAUF,EAAY,EAAG,EAAGA,EAAW9I,MAAO8I,EAAW7I,OACnC,EAAG,EAAG0I,EAAO3I,MAAO2I,EAAO1I,QACrD8I,EAAIyE,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,KAGlC7Q,EAAgBmD,UAAUmL,UAAY,WACpC,MAAOrL,MAAK+I,OAAOmE,iBAAiB,IAGtCjR,EAAY,WAAac,IAE7BrB,OAAO,6BACJ,WACD,SAASO,GACP,YACA,IAAIsN,GAAS7J,QAAQ,iBAAiB,WAGlC/C,GAFU4M,EAAOC,QAEI,SAASjM,GAChClB,EAAE0D,SAASC,KAAMzC,EAAYyC,KAAKC,mBAClCD,KAAK6N,qBAAuB7N,KAAKvC,eAAeuC,KAAK8N,4BAEvDnR,GAAmBuD,UAAUD,mBAC3BE,QAAS,KAETC,MAAO,OACPC,OAAQ,OACRC,SAAU,sBACV7C,kBACAqQ,0BAA2B,GAG7BnR,EAAmBuD,UAAUM,KAAO,WAClC,GAAIO,GAAOf,IACX8B,GAAE9B,KAAKM,UAAU6F,KACf/F,MAAOJ,KAAKI,MACZC,OAAQL,KAAKK,SAEfhE,EAAEC,QAAQ0D,KAAKvC,eAAgB,SAASsQ,GACtCA,EAAI3N,MAAQW,EAAKX,MACjB2N,EAAI1N,OAASU,EAAKV,OAClB0N,EAAIzN,SAAWS,EAAKT,SACpByN,EAAIvN,UAIR7D,EAAmBuD,UAAUY,MAAQ,WACnCd,KAAK6N,qBAAqB/M,SAG5BnE,EAAmBuD,UAAU2C,KAAO,WAClC7C,KAAK6N,qBAAqBhL,QAG5BlG,EAAmBuD,UAAUwC,QAAU,WACrC1C,KAAK6N,qBAAqBnL,WAG5B/F,EAAmBuD,UAAU8N,kBAAoB,WAC/ChO,KAAK6N,qBAAqBhL,OAC1B7C,KAAK8N,2BAA6B9N,KAAK8N,0BAA0B,GAC7B9N,KAAKvC,eAAeS,OACxD8B,KAAK6N,qBAAuB7N,KAAKvC,eAAeuC,KAAK8N,2BACrD9N,KAAK6N,qBAAqB/M,SAG5B7E,EAAY,WAAaU,IAE7BjB,OAAO,+BACJ,WACD,SAASO,GACP,YAEA,IAAIwD,GAAiBC,QAAQ,+BAA+B,WACxDC,EAAqBD,QAAQ,mCAAmC,WAChEE,EAAUF,QAAQ,wBAAwB,WAC1CG,EAAQH,QAAQ,gBAAgB,WAChCI,EAAcJ,QAAQ,sBAAsB,WAC5CoH,EAAQpH,QAAQ,gBAAgB,WAEhC9C,EAAuB,SAASW,GAClClB,EAAE0D,SAASC,KAAMzC,EAAYyC,KAAKC,kBAElC,IAAIe,GAAMC,GAAGC,OAAOlB,KAAKM,UAAUa,OAAO,OACvCC,KAAK,QAASpB,KAAKI,OACnBgB,KAAK,SAAUpB,KAAKK,OACvBW,GAAIG,OAAO,KAAKC,KAAK,QAAS,eAC9BJ,EAAIG,OAAO,KAAKC,KAAK,QAAS,SAC9BJ,EAAIG,OAAO,KAAKC,KAAK,QAAS,UAC9BpB,KAAKgB,IAAMA,EAEXhB,KAAKS,UACLT,KAAKU,gBAELV,KAAK0C,SAEL,IAAI3B,GAAOf,KACPiO,EAAYxR,OAAOyR,QACvBzR,QAAOyR,SAAW,WAChBnN,EAAK2B,UACDuL,GACFA,KAGNrR,GAAqBsD,UAAUD,mBAC7BE,QAAS,KAETC,MAAO,OACPC,OAAQ,IAER8N,QAAS,GACT7N,SAAU,WACVC,aAAc,KAMhB3D,EAAqBsD,UAAU+C,2BAA6B,WAE1D,GAAIC,GAAQlD,KAAKS,OACb0C,EAAcnD,KAAKU,YAEvBrE,GAAEC,QAAQ0D,KAAKG,QAAQ+C,MAAO,SAASE,GACrC,GAAIC,GAAQhH,EAAEiH,KAAKJ,GAAQK,WAAcH,GACrCC,IACJH,EAAMxF,KAAKmC,EAAM2D,gBAAgBJ,MAGnC/G,EAAEC,QAAQ0D,KAAKG,QAAQgD,YAAa,SAASM,GAC3C,GAAIC,GAAOrH,EAAEiH,KAAKH,GAAcQ,iBAAoBF,GACpD,KAAIC,EAAJ,CAGA,GAAIO,GAAS5H,EAAEiH,KAAKJ,GAAQK,WAAcE,EAAWK,aACjDI,EAAS7H,EAAEiH,KAAKJ,GAAQK,WAAcE,EAAWO,YACrDb,GAAYzF,KAAK,GAAIoC,IACnBmE,OAAQA,EACRC,OAAQA,EACRP,iBAAkBF,QAItBqD,EAAMC,YAAY7D,EAAOC,IAG3BvG,EAAqBsD,UAAUwC,QAAU,WAWvC,QAAS0L,GAAK7I,GACZ,MAAOA,GAAE2C,aAAa9H,EAAM,EAAE+N,GAAWA,EAE3C,QAASE,GAAK9I,GACZ,MAAOA,GAAE+I,aAAajO,EAAO,EAAE8N,GAAWA,EAI5C,QAASI,GAAYhJ,GACnB,GAAIiJ,GAAKC,EAAMlJ,GACXmJ,EAAKC,EAAMpJ,EACf,OAAO,IAAIiJ,EAAG,IAAIE,EAAG,KAAKF,EACnB,IAAIE,EAAG,IAAIF,EAAG,IAAIE,EAClB,IAAIF,EAAG,IAAIE,EAEpB,QAASE,GAAKrJ,GACZ,GAAIiJ,GAAKC,EAAMlJ,GACXmJ,EAAKC,EAAMpJ,GACXsJ,EAAKC,EAAMvJ,GACXwJ,EAAKC,EAAMzJ,EACf,OAAO,IAAIiJ,EAAG,IAAIE,EAAG,MAAMF,EAAGS,GACvB,IAAIP,EAAG,KAAKG,EAAGI,GAAM,IAAIF,EACzB,IAAIF,EAAG,IAAIE,EAEpB,QAASN,GAAMlJ,GACb,MAAO6I,GAAK7I,EAAEtB,QAEhB,QAAS0K,GAAMpJ,GACb,MAAO8I,GAAK9I,EAAEtB,QAEhB,QAAS6K,GAAMvJ,GACb,MAAO6I,GAAK7I,EAAErB,QAEhB,QAAS8K,GAAMzJ,GACb,MAAO8I,GAAK9I,EAAErB,QAGhB,QAASoB,GAAaC,GACpB,MAAIA,GAAEhC,qBAAsB9D,IACxB8F,EAAEhC,qBAAsB5D,GACnB,QACL4F,EAAEhC,qBAAsB3D,GACnB,QACF,MAGT,QAAS6F,GAAmBF,GAC1B,MAAIA,GAAE5B,iBAAiBmB,QACd,QAEA,OAGX,QAASa,GAAgBJ,GACvB,MAAOA,GAAE5B,iBAAiBvG,GAhE5B,GAAIqD,GAAST,KAAKS,OACdC,EAAeV,KAAKU,aACpBwO,EAAQlP,KAAKgB,IAAI,GAAG,GAAGkM,iBAAiB,GACxC9M,EAAQ8O,EAAM9O,MACdC,EAAS6O,EAAM7O,OACf8N,EAAUnO,KAAKmO,QACf5N,EAAeP,KAAKO,YAExBP,MAAKiD,4BASL,IAAIgM,GAAO,IAkDPE,EAASnP,KAAKgB,IACfE,OAAO,UACPiB,UAAU,SACVC,KAAK3B,EAER0O,GAAO1I,aACJC,SAASnG,GACTa,KAAK,KAAMgN,GACXhN,KAAK,KAAMiN,GACXjN,KAAK,IAAK,IAEb+N,EAAO9M,QAAQlB,OAAO,UACnBC,KAAK,QAAS,QACdA,KAAK,KAAMgN,GACXhN,KAAK,KAAMiN,GACXjN,KAAK,IAAK,GACVA,KAAK,SAAU,SACfA,KAAK,eAAgB,GACrBA,KAAK,OAAQkE,GACbmB,aACEC,SAASnG,GACTa,KAAK,IAAK,GAGf,IAAIgO,GAAepP,KAAKgB,IACnBE,OAAO,gBACPiB,UAAU,eACVC,KAAK1B,EAAciF,EAExByJ,GAAa3I,aACVC,SAASnG,GACTa,KAAK,IAAKwN,GACV1I,MAAM,SAAUT,GAEnB2J,EAAa/M,QAAQlB,OAAO,QACzBC,KAAK,QAAS,cACdA,KAAK,IAAKmN,GACVnN,KAAK,OAAQ,QACb8E,MAAM,SAAUT,GAChBS,MAAM,eAAgB,GACtBO,aACEC,SAASnG,GACTa,KAAK,IAAKwN,EAEf,IAAIS,GAAQrP,KAAKgB,IACZE,OAAO,WACPiB,UAAU,UACVC,KAAK3B,EACV4O,GAAM5I,aACHC,SAASnG,GACTa,KAAK,IAAKgN,GACVhN,KAAK,IAAKiN,GACVzH,KAAK,SAASrB,GAAG,MAAOA,GAAE+J,aAC7BD,EAAMhN,QAAQlB,OAAO,QAClBC,KAAK,QAAS,SACdA,KAAK,IAAKgN,GACVhN,KAAK,IAAKiN,GACVnI,MAAM,OAAQ,OACdU,KAAK,SAASrB,GAAG,MAAOA,GAAE+J,cAI/BrT,EAAY,WAAaW,IAE7BlB,OAAO,6BACJ,WACD,SAASO,GACP,YACA,IAIIkR,IAJSzN,QAAQ,iBAAiB,eAKlC0N,EAAQ,WACV,GAAIC,GAAa,CACjB,OAAO,UAASjK,GAGd,MAFAA,GAAKhG,GAAKgG,EAAKhG,IAAOiQ,IACtBF,EAAY/J,EAAKhG,IAAMgG,EAChBA,MAGPkK,EAAO,SAASlK,GAElB,aADO+J,GAAY/J,EAAKhG,IACjBgG,GAGLtG,EAAqB,SAASS,GAChClB,EAAE0D,SAASC,KAAMzC,EAAYyC,KAAKC,mBAEpCnD,GAAmBoD,UAAUD,mBAC3BE,QAAS,KAETC,MAAO,OACPC,OAAQ,IACRC,SAAU,sBAIV8K,QAAS,KAGTxB,kBAAmB,UAAW,UAAW,UAAW,WACpDC,qBAAsB,EAAG,IAAM,IAAM,IAGvC/M,EAAmBoD,UAAUM,KAAO,WAClC,GAAIuI,GAASgB,SAASC,cAAc,UAChCb,EAAMJ,EAAOkB,WAAW,MACxBf,EAAaa,SAASC,cAAc,UACpCpB,EAAUM,EAAWe,WAAW,KACpCjK,MAAK+I,OAASA,EACd/I,KAAKmJ,IAAMA,EACXnJ,KAAKkJ,WAAaA,EAClBlJ,KAAK4I,QAAUA,EAEf5I,KAAKmK,QAAUrI,EAAEiH,GACjB/I,KAAKoK,YAActI,EAAEoH,GAErBlJ,KAAKuK,WAAa,GAAIC,QAAO3I,MAC3B7B,KAAK4J,iBACL5J,KAAK6J,qBACP7J,KAAKuK,WAAWE,QAAQ,EAAG,MAE3BzK,KAAKkH,QAAUlH,KAAKG,QAAQ+C,MAAM,IAGpCpG,EAAmBoD,UAAUY,MAAQ,WAkCnC,QAASyM,KACP,GAAIjC,GAASvK,EAAKsK,WAClBlC,GAAI4B,UAAUhK,EAAKwJ,WAAW,GAAGS,MACjC7B,EAAI8B,SAAS,EAAE,EAAEK,EAAOlL,MAAMkL,EAAOjL,QApCvC,GAQImN,GAAQrC,EARRpK,EAAOf,KACP+I,EAAS/I,KAAK+I,OACdI,EAAMnJ,KAAKmJ,IACXD,EAAalJ,KAAKkJ,WAElBiB,GADUnK,KAAK4I,QACL5I,KAAKmK,SACfC,EAAcpK,KAAKoK,YACnBlD,EAAUlH,KAAKkH,OAGnBpF,GAAE9B,KAAKM,UAAUa,OAAOgJ,GAExBA,EAAQhE,KACN/F,MAAOJ,KAAKI,MACZC,OAAQL,KAAKK,SAEf+J,EAAYjE,KACV/F,MAAOJ,KAAKI,MACZC,OAAQL,KAAKK,SAGfL,KAAK2C,SAAW,WAEd,GAAI2I,GAASvK,EAAKsK,WAClBtC,GAAO3I,MAAQkL,EAAOlL,MACtB2I,EAAO1I,OAASiL,EAAOjL,OACvB6I,EAAW9I,MAAQkL,EAAOlL,MAC1B8I,EAAW7I,OAASiL,EAAOjL,OAC3BkN,KAEFzL,EAAErF,QAAQgF,GAAG,SAAUzB,KAAK2C,UAC5B3C,KAAK2C,UAQL,IAAI4M,GAAmB,SAASC,GAC9B,GAAIhG,GAAUgG,EAAYhG,OAC1BzI,GAAKyI,QAAUA,EAEfgE,EAASJ,EAAK5D,EAAQiE,sBAAsB,KAAM,EAAG,IACrDD,EAAO/B,QAAQjC,EAAQkE,aACvB3M,EAAKyM,OAASA,EAEdrC,EAAe3B,EAAQ+B,iBACvBJ,EAAaK,sBAAwB,EACrCL,EAAaC,QAAUrK,EAAKqK,QAC5BrK,EAAKoK,aAAeA,EAEpBjE,EAAQuI,YAAYhE,QAAQN,GAC5BA,EAAaM,QAAQ+B,EAErB,IAAI9B,GAAa,GAAIC,YAAWR,EAAaS,mBAC3CC,EAAU,EACVC,EAAa,CAEf0B,GAAOG,eAAiB,WAExB,GAAI1B,GAAW,GAAIN,YAAWR,EAAaS,kBACzCT,GAAae,qBAAqBD,EAElC,IAAIE,GAAM9P,EAAE0C,OAAOkN,EAAU,SAASE,EAAKC,GACzC,MAAOD,GAAMC,GACZ,EAGCD,KAAMN,KACNC,EAEA/K,EAAK8L,aADHf,GAAc,EACEJ,EAGAO,KAGpBH,EAAa,EACb/K,EAAK8L,aAAaZ,IAGpBJ,EAAUM,GAIdnM,MAAKG,QAAQuP,YAAY,WACvBC,QAAQ9I,IAAI,kBACX0I,IAGLzS,EAAmBoD,UAAU2C,KAAO,WAClC7C,KAAKmK,QAAQpH,SACbjB,EAAErF,QAAQqG,IAAI,SAAU9C,KAAK2C,UAC7B3C,KAAKwN,OAAO3C,WAAW7K,KAAKwJ,QAAQkE,aACpC1N,KAAKmL,aAAaN,WAAW7K,KAAKwN,QAClCF,EAAKtN,KAAKwN,SAGZ1Q,EAAmBoD,UAAUwC,QAAU,aAOvC5F,EAAmBoD,UAAU2M,aAAe,SAASZ,GACnD,GAMI/G,GAAGuH,EAAKL,EANRrD,EAAS/I,KAAK+I,OACdG,EAAalJ,KAAKkJ,WAClBN,EAAU5I,KAAK4I,QACfO,EAAMnJ,KAAKmJ,IACXoB,EAAavK,KAAKuK,WAClBe,EAAStL,KAAKqL,WAIlB,IAAsB,mBAAXC,GAAX,CAIA,IADA1C,EAAQQ,UAAUL,EAAQ,EAAG,EAAGuC,EAAOlL,MAAOkL,EAAOjL,QAChD6E,EAAE,EAAEuH,EAAMR,EAAS/N,OAAUuO,EAAFvH,IAASA,EACvCkH,EAAMH,EAAS/G,GACfiE,EAAI4B,UAAYR,EAAW6B,GAAKpB,MAChC7B,EAAI8B,SAASK,EAAOlL,MAAM,EAAGkL,EAAOjL,OAAO6E,EAAG,EAAG,EAGnDiE,GAAIxH,UAAU,GAAI,GAClBwH,EAAIC,UAAUF,EAAY,EAAG,EAAGoC,EAAOlL,MAAOkL,EAAOjL,OAC3B,EAAG,EAAGiL,EAAOlL,MAAOkL,EAAOjL,QACrD8I,EAAIyE,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,KAGlC9Q,EAAmBoD,UAAUmL,UAAY,WACvC,MAAOrL,MAAK+I,OAAOmE,iBAAiB,IAGtCjR,EAAY,WAAaa,IAE7BpB,OAAO,sBACJ,WACD,SAASO,GACP,YACA,IAAI6D,GAAc,SAASvC,GACzBlB,EAAE0D,SAASC,KAAMzC,EAAYyC,KAAKC,mBAEpCH,GAAYI,UAAUD,mBACpB2P,QAAS,KACTC,SAAU,KAGV5L,OAAQ,EACRC,OAAQ,EAERP,iBAAkB,MAGpB1H,EAAY,WAAa6D,IAE7BpE,OAAO,gBACJ,WACD,SAASO,GACP,YACA,IAAI4D,GAAQ,SAAStC,GACnBlB,EAAE0D,SAASC,KAAMzC,EAAYyC,KAAKC,mBAEpCJ,GAAMK,UAAUD,mBACdyH,QAAS,EACTX,YAAa,KACbsB,OAAQ,EACRD,YAAa,KACb7E,WAAY,MAEd1D,EAAMK,UAAU+G,gBAAkB,WAChCjH,KAAK0H,QAAU,EACf1H,KAAK+G,YAAc,KACnB/G,KAAKqI,OAAS,EACdrI,KAAKoI,YAAc,MAErBvI,EAAMK,UAAU4P,qBAAuB,WACrC,MAAO9P,MAAK+G,YAAc/G,KAAK+G,YAAYY,YAAc,GAE3D9H,EAAMK,UAAU6P,qBAAuB,WACrC,MAAO/P,MAAKoI,YAAcpI,KAAKoI,YAAYnJ,MAAQ,GAErDY,EAAMK,UAAUgI,UAAY,WAC1B,MAAQ,GAAElI,KAAK0H,QAAQ1H,KAAK8P,wBAE9BjQ,EAAMK,UAAUoO,UAAY,WAC1B,OAAQtO,KAAKqI,OAAO,IAAIrI,KAAK+P,uBAAuB,IAEtDlQ,EAAMK,UAAUoP,SAAW,WACzB,MAAO,IAAItP,KAAK0H,QAAQ,IAAI1H,KAAK8P,uBAC3B,KAAK9P,KAAKqI,OAAO,IAAIrI,KAAK+P,uBAAuB,KAGzDlQ,EAAM2D,gBAAkB,SAASD,GAC/B,MAAO,IAAI1D,IACT0D,WAAYA,KAIhBtH,EAAY,WAAa4D"}